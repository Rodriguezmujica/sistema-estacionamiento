<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üÜò SOLUCI√ìN DEFINITIVA MariaDB</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
            font-family: Arial, sans-serif;
        }
        .mega-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 3rem;
            margin-bottom: 2rem;
        }
        .step-mega {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            font-size: 1.2rem;
        }
        .number-huge {
            display: inline-block;
            width: 60px;
            height: 60px;
            line-height: 60px;
            text-align: center;
            background: white;
            color: #667eea;
            border-radius: 50%;
            font-weight: bold;
            font-size: 2rem;
            margin-right: 1rem;
        }
        .terminal {
            background: #1e1e1e;
            color: #00ff00;
            padding: 1.5rem;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            margin: 1rem 0;
        }
        .alert-mega {
            font-size: 1.2rem;
            padding: 1.5rem;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="text-center text-white mb-4">
            <h1 class="display-1 fw-bold" style="font-size: 5rem;">üÜò</h1>
            <h1 class="display-3 fw-bold">SOLUCI√ìN DEFINITIVA</h1>
            <p class="lead fs-4">Arregla MariaDB en 5 minutos</p>
        </div>

        <div class="mega-card">
            <div class="alert alert-danger alert-mega text-center">
                <h3 class="mb-3">‚ö†Ô∏è IMPORTANTE ‚ö†Ô∏è</h3>
                <h5>TU C√ìDIGO NO EST√Å DA√ëADO</h5>
                <p class="mb-0">El problema es solo configuraci√≥n de MariaDB. Tu sistema est√° perfecto.</p>
            </div>

            <hr class="my-5">

            <!-- PASO 1 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">1</span>
                    Cierra TODO
                </h2>
                <ul class="mt-3" style="font-size: 1.1rem;">
                    <li>Cierra XAMPP Control Panel</li>
                    <li>Cierra tu navegador</li>
                    <li>Cierra tu editor de c√≥digo</li>
                </ul>
            </div>

            <!-- PASO 2 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">2</span>
                    Abre XAMPP como ADMINISTRADOR
                </h2>
                <div class="bg-white text-dark p-3 rounded mt-3">
                    <p class="mb-2"><strong>C√≥mo:</strong></p>
                    <ol>
                        <li>Busca el icono de XAMPP</li>
                        <li><strong>Bot√≥n derecho</strong> sobre el icono</li>
                        <li>Selecciona <strong>"Ejecutar como administrador"</strong></li>
                    </ol>
                    <div class="alert alert-warning mt-3">
                        <strong>‚ö†Ô∏è MUY IMPORTANTE:</strong> DEBE ser como administrador. Si no, seguir√° fallando.
                    </div>
                </div>
            </div>

            <!-- PASO 3 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">3</span>
                    Para MySQL
                </h2>
                <p class="mt-3">En XAMPP Control Panel, en la l√≠nea de MySQL, haz clic en <strong>STOP</strong></p>
                <p>Espera a que diga "Stopped"</p>
            </div>

            <!-- PASO 4 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">4</span>
                    Edita my.ini
                </h2>
                <div class="bg-white text-dark p-3 rounded mt-3">
                    <p><strong>En XAMPP Control Panel:</strong></p>
                    <ol>
                        <li>L√≠nea de MySQL ‚Üí bot√≥n <strong>Config</strong> ‚Üí <strong>my.ini</strong></li>
                        <li>Se abre el archivo en Bloc de notas</li>
                        <li>Presiona <kbd>Ctrl + F</kbd> y busca: <code>skip-grant-tables</code></li>
                        <li>Encontrar√°s algo como: <code># skip-grant-tables</code></li>
                        <li><strong>Quita el # del inicio</strong></li>
                    </ol>
                    <div class="terminal mt-3">
                        <div style="color: #ff6b6b;"># Antes (con #):</div>
                        # skip-grant-tables
                        <br><br>
                        <div style="color: #00ff00;">‚úì Despu√©s (sin #):</div>
                        skip-grant-tables
                    </div>
                    <p class="mt-3"><strong>Si NO encuentras esa l√≠nea:</strong></p>
                    <p>Busca la secci√≥n <code>[mysqld]</code> y agrega debajo:</p>
                    <div class="terminal">
                        [mysqld]<br>
                        skip-grant-tables
                    </div>
                    <p class="mt-3"><strong>Guarda el archivo:</strong> <kbd>Ctrl + S</kbd></p>
                </div>
            </div>

            <!-- PASO 5 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">5</span>
                    Inicia MySQL
                </h2>
                <p class="mt-3">En XAMPP Control Panel, haz clic en <strong>START</strong> en MySQL</p>
                <p>Espera a que diga "Running" en verde</p>
            </div>

            <!-- PASO 6 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">6</span>
                    Ejecuta el script autom√°tico
                </h2>
                <div class="bg-white text-dark p-3 rounded mt-3">
                    <p><strong>Opci√≥n A - Script Autom√°tico (Recomendado):</strong></p>
                    <ol>
                        <li>Ve a: <code>C:\xampp\htdocs\sistemaEstacionamiento\</code></li>
                        <li>Busca el archivo: <code>comandos_mysql.bat</code></li>
                        <li><strong>Bot√≥n derecho</strong> ‚Üí <strong>Ejecutar como administrador</strong></li>
                        <li>Sigue las instrucciones en pantalla</li>
                    </ol>

                    <hr>

                    <p><strong>Opci√≥n B - Manual:</strong></p>
                    <ol>
                        <li>En XAMPP Control Panel ‚Üí MySQL ‚Üí <strong>Shell</strong></li>
                        <li>Se abre una ventana negra</li>
                        <li>Escribe simplemente: <code>mysql -u root</code> y Enter</li>
                        <li>Ahora copia estos comandos UNO POR UNO:</li>
                    </ol>
                    <div class="terminal mt-2">
USE mysql;<br>
UPDATE user SET Host='localhost' WHERE User='root';<br>
DELETE FROM user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1');<br>
GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION;<br>
GRANT ALL PRIVILEGES ON *.* TO 'root'@'127.0.0.1' WITH GRANT OPTION;<br>
FLUSH PRIVILEGES;<br>
exit;
                    </div>
                </div>
            </div>

            <!-- PASO 7 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">7</span>
                    Quita skip-grant-tables
                </h2>
                <div class="bg-white text-dark p-3 rounded mt-3">
                    <p><strong>MUY IMPORTANTE:</strong> Ahora debes quitar lo que agregaste</p>
                    <ol>
                        <li>Para MySQL en XAMPP</li>
                        <li>Config ‚Üí my.ini</li>
                        <li>Busca: <code>skip-grant-tables</code></li>
                        <li><strong>Vuelve a poner el #</strong> al inicio</li>
                        <li>O borra esa l√≠nea completamente</li>
                        <li>Guarda (<kbd>Ctrl + S</kbd>)</li>
                    </ol>
                    <div class="terminal mt-3">
                        <div style="color: #00ff00;">‚úì Correcto (con # o borrada):</div>
                        # skip-grant-tables
                    </div>
                </div>
            </div>

            <!-- PASO 8 -->
            <div class="step-mega">
                <h2>
                    <span class="number-huge">8</span>
                    Reinicia MySQL
                </h2>
                <p class="mt-3">En XAMPP Control Panel:</p>
                <ol style="font-size: 1.1rem;">
                    <li><strong>STOP</strong> MySQL</li>
                    <li>Espera 3 segundos</li>
                    <li><strong>START</strong> MySQL</li>
                </ol>
            </div>

            <!-- PASO 9 -->
            <div class="step-mega" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
                <h2>
                    <span class="number-huge">9</span>
                    ¬°PRUEBA TU SISTEMA!
                </h2>
                <div class="text-center mt-4">
                    <a href="test_conexion_simple.php" class="btn btn-light btn-lg" style="font-size: 1.5rem; padding: 1rem 3rem;" target="_blank">
                        üß™ PROBAR AHORA
                    </a>
                </div>
            </div>

            <hr class="my-5">

            <div class="alert alert-success alert-mega text-center">
                <h3>‚úÖ ¬øFuncion√≥?</h3>
                <p class="mb-3">Despu√©s del test, abre tu sistema:</p>
                <a href="index.php" class="btn btn-success btn-lg" style="font-size: 1.5rem; padding: 1rem 3rem;">
                    üè† IR AL SISTEMA
                </a>
            </div>

            <hr class="my-5">

            <div class="alert alert-info alert-mega">
                <h4><strong>üí° Recuerda:</strong></h4>
                <ul class="mb-0">
                    <li>‚úÖ Tu c√≥digo NO se da√±√≥</li>
                    <li>‚úÖ El debug NO caus√≥ esto</li>
                    <li>‚úÖ Es solo permisos de MariaDB</li>
                    <li>‚úÖ Se arregla siguiendo estos pasos</li>
                </ul>
            </div>

            <hr class="my-5">

            <div class="alert alert-warning alert-mega">
                <h4>‚ö†Ô∏è Si NADA funciona (√∫ltimo recurso):</h4>
                <p>Reinstala XAMPP o contacta con tu administrador de sistemas.</p>
                <p class="mb-0"><strong>Pero antes de eso, intenta:</strong> Reiniciar Windows y volver a probar.</p>
            </div>

        </div>
    </div>
</body>
</html>


